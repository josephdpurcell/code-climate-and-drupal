<!doctype html>
<html lang="en" xmlns="http://www.w3.org/1999/html">

	<head>
		<meta charset="utf-8">

		<title>reveal.js â€“ The HTML Presentation Framework</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->

		<!-- Custom css -->
		<link rel="stylesheet" href="custom.css">
		<link rel="stylesheet" href="fontawesome/css/font-awesome.min.css">
	</head>

	<body>

		<div class="reveal backgroun-color">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>Group</h1>
					<h4>An Alternative to Organic Groups</h4>
					<p><img src="images/GROUP-logo.gif"></p>
					<p>
						<small>Presentation by Kyle Einecker</small>
					</p>
				</section>

				<!-- Intro -->
				<section>
					<h2>The bit about me</h2>
					<p class="fragment"><img src="images/dbridge.png"></p>
					<p class="fragment"><i class="fa fa-drupal fa-3x" aria-hidden="true"></i> <a href="https://www.drupal.org/u/ctrladel">ctrlADel</a></p>
					<p class="fragment"><i class="fa fa-twitter fa-3x" aria-hidden="true"></i> <a href="https://twitter.com/dbridgechicago">@DBridgeChicago</a></p>

					<aside class="notes">
						<ul>
							<li>Do everything</li>
							<li>Prefer backend</li>
						</ul>
					</aside>
				</section>

				<section>
					<h2>My problem with OG</h2>
					<div class="mxgraph" style="display: inline-block;"><svg style="width: 100%; height: 100%; display: block; min-width: 906px; min-height: 266px;"><g><g></g><g><g transform="translate(0.5,0.5)" style="visibility: visible;"><rect x="433" y="163" width="210" height="80" fill="#636466" stroke="#d6d6d6" stroke-width="5" pointer-events="all"></rect></g><g style="visibility: visible;"><g transform="translate(476,176)"><foreignObject style="overflow:visible;" pointer-events="all" width="124" height="55"><div style="display: inline-block; font-size: 12px; font-family: Verdana; color: rgb(233, 119, 36); line-height: 1.2; vertical-align: top; width: 124px; white-space: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><font style="font-size: 48px">Node</font></div></div></foreignObject></g></g><g transform="translate(0.5,0.5)" style="visibility: visible;"><rect x="643" y="163" width="240" height="80" fill="#636466" stroke="#d6d6d6" stroke-width="5" pointer-events="all"></rect></g><g style="visibility: visible;"><g transform="translate(693,176)"><foreignObject style="overflow:visible;" pointer-events="all" width="140" height="55"><div style="display: inline-block; font-size: 12px; font-family: Verdana; color: rgb(233, 119, 36); line-height: 1.2; vertical-align: top; width: 140px; white-space: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><font style="font-size: 48px">Entity</font></div></div></foreignObject></g></g><g transform="translate(0.5,0.5)" style="visibility: visible;"><rect x="23" y="163" width="410" height="80" fill="#636466" stroke="#d6d6d6" stroke-width="5" pointer-events="all"></rect></g><g style="visibility: visible;"><g transform="translate(30,176)"><foreignObject style="overflow:visible;" pointer-events="all" width="396" height="55"><div style="display: inline-block; font-size: 12px; font-family: Verdana; color: rgb(233, 119, 36); line-height: 1.2; vertical-align: top; width: 398px; white-space: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><font style="font-size: 48px"><font>Entity&nbsp;</font><span style="line-height: 1.2">Reference</span></font></div></div></foreignObject></g></g><g transform="translate(0.5,0.5)" style="visibility: visible;"><rect x="23" y="93" width="860" height="70" fill="#636466" stroke="#d6d6d6" stroke-width="5" pointer-events="all"></rect></g><g style="visibility: visible;"><g transform="translate(266,101)"><foreignObject style="overflow:visible;" pointer-events="all" width="374" height="55"><div style="display: inline-block; font-size: 12px; font-family: Verdana; color: rgb(233, 119, 36); line-height: 1.2; vertical-align: top; width: 376px; white-space: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><font style="font-size: 48px">Organic Groups</font></div></div></foreignObject></g></g><g transform="translate(0.5,0.5)" style="visibility: visible;"><rect x="268" y="23" width="370" height="70" fill="#636466" stroke="#d6d6d6" stroke-width="5" pointer-events="all"></rect></g><g style="visibility: visible;"><g transform="translate(319,31)"><foreignObject style="overflow:visible;" pointer-events="all" width="268" height="55"><div style="display: inline-block; font-size: 12px; font-family: Verdana; color: rgb(233, 119, 36); line-height: 1.2; vertical-align: top; width: 268px; white-space: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><font style="font-size: 48px">OG Contrib</font></div></div></foreignObject></g></g></g><g></g><g></g></g></svg></div>
					<p class="fragment">Based on nodes</p>
					<p class="fragment">UX</p>
					<p class="fragment">DX</p>
					<aside class="notes">
						<ul>
							<li>Tried og ~1.5 yrs ago</li>
							<li>Didn't go well</li>
							<li>Barely used it since</li>
						</ul>
					</aside>
				</section>

				<section>
					<h2>Group</h2>
					<p class="fragment"><img src="images/kristiaan.jpg"> kristiaanvandeneynde</p>
					<p class="fragment">Been around since 2013</p>
					<p class="fragment">~700 installs</p>
				</section>


				<section>
					<h2>Why I went to group</h2>
					<div class="mxgraph" style="display: inline-block;"><svg style="width: 100%; height: 279px; display: block; min-width: 416px; min-height: 266px;"><g><g></g><g><g transform="translate(0.5,0.5)" style="visibility: visible;"><rect x="23" y="163" width="370" height="80" fill="#636466" stroke="#d6d6d6" stroke-width="5" pointer-events="all"></rect></g><g style="visibility: visible;"><g transform="translate(138,176)"><foreignObject style="overflow:visible;" pointer-events="all" width="140" height="55"><div style="display: inline-block; font-size: 12px; font-family: Verdana; color: rgb(233, 119, 36); line-height: 1.2; vertical-align: top; width: 140px; white-space: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><font style="font-size: 48px">Entity</font></div></div></foreignObject></g></g><g transform="translate(0.5,0.5)" style="visibility: visible;"><rect x="23" y="93" width="370" height="70" fill="#636466" stroke="#d6d6d6" stroke-width="5" pointer-events="all"></rect></g><g style="visibility: visible;"><g transform="translate(134,101)"><foreignObject style="overflow:visible;" pointer-events="all" width="148" height="55"><div style="display: inline-block; font-size: 12px; font-family: Verdana; color: rgb(233, 119, 36); line-height: 1.2; vertical-align: top; width: 148px; white-space: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><font style="font-size: 48px">Group</font></div></div></foreignObject></g></g><g transform="translate(0.5,0.5)" style="visibility: visible;"><rect x="23" y="23" width="370" height="70" fill="#636466" stroke="#d6d6d6" stroke-width="5" pointer-events="all"></rect></g><g style="visibility: visible;"><g transform="translate(38,31)"><foreignObject style="overflow:visible;" pointer-events="all" width="340" height="55"><div style="display: inline-block; font-size: 12px; font-family: Verdana; color: rgb(233, 119, 36); line-height: 1.2; vertical-align: top; width: 340px; white-space: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><font style="font-size: 48px">Group Contrib</font></div></div></foreignObject></g></g></g><g></g><g></g></g></svg></div>
				</section>

				<section>
					<h1>Experience</h1>
				</section>

				<section>
					<section>
						<h2>User Experience</h2>
					</section>
					<section>
						<h2>Structured like nodes</h2>
						<p class="fragment">Top level menu</p>
						<p class="fragment">Define group types</p>
						<p class="fragment">Fieldable</p>
						<a href="http://group.local/" class="fragment" target='_blank'>Examples</a>
					</section>
				</section>

				<section>
					<section>
						<h2>Developer Experience</h2>
					</section>
					<section>
						<h2>Everything is an entity</h2>
						<p class="fragment">Groups</p>
						<p class="fragment">Group memberships</p>
						<p class="fragment">Group roles</p>
					</section>
					<section>
						<h2>Everything has it's own class</h2>
						<p class="fragment">Groups</p>
						<p class="fragment">Group memberships</p>
						<p class="fragment">Group roles</p>
					</section>
					<section>
						<h2>Built with it's own api</h2>
					</section>
					<section>
						<h1>Examples</h1>
					</section>
					<section>
						<h2>Add a member to a group</h2>
						<p>OG</p>
						<pre><code class="hlphp" data-trim contenteditable>
global $user;
$group = node_load($gid);

if (!$group_type) {
  $group_type = 'node';
}

if (!$membership_type) {
  $membership_type = OG_MEMBERSHIP_TYPE_DEFAULT;
}

$is_a_group = $group->group_group[$group->language][0]['value'];

if ($is_a_group && $user) {
  $values = array(
  'entity_type' => 'user',
  'entity' => $user,
  'state' => OG_STATE_ACTIVE,
  'membership_type' => $membership_type
);

og_group($group_type, $gid, $values);
						</code></pre>
					</section>

					<section>
						<h2>Add a member to a group</h2>
						<p>Group</p>
						<pre><code class="hlphp" data-trim contenteditable>
global $user;
$group = group_load($gid);
$group->addMember($user->uid);
						</code></pre>
					</section>

					<section>
						<h2>Get all group members</h2>
						<p>OG</p>
						<pre><code class="hlphp" data-trim contenteditable>
$group = node_load($gid);
og_get_group_members_properties($group, array(), 'members', 'node');
						</code></pre>
					</section>

					<section>
						<h2>Get all group members</h2>
						<p>Group</p>
						<pre><code class="hlphp" data-trim contenteditable>
$group = group_load($gid);
$group->getMembers();
						</code></pre>
						<p class="fragment">Get all group members of all subgroups</p>
						<pre class="fragment"><code class="hlphp" data-trim contenteditable>
$group = group_load($gid);
$group->getMembersRecursive();
						</code></pre>
					</section>
					<section>
						<h2>Group supports subgroups out of the box</h2>
						<p>Any entity can easily be made a child of a group</p>
						<pre class="fragment"><code class="hlphp" data-trim contenteditable>
/**
 * Implements hook_entity_info_alter().
 */
function gnode_entity_info_alter(&$entity_info) {
  // Nodes can only have one group parent.
  $entity_info['node']['group entity'] = 'single';
}
						</code></pre>
					</section>

					<section>
						<h2>Get all nodes in group</h2>
						<p>OG</p>
						<pre><code class="hlphp" data-trim contenteditable>
I couldn't find a good answer
						</code></pre>
					</section>

					<section>
						<h2>Get all nodes in group</h2>
						<p>Group</p>
						<pre><code class="hlphp" data-trim contenteditable>
$group = group_load($gid);
$group->getEntitiesOfType('node');
						</code></pre>
						<p class="fragment">Get all entities in group</p>
						<pre class="fragment"><code class="hlphp" data-trim contenteditable>
$group = group_load($gid);
$group->getEntities();
						</code></pre>
					</section>
				</section>

				<section>
					<section>
						<h2>Documentation</h2>
					</section>
					<section>
						<h2>addMember</h2>
						<pre><code class="hlphp" data-trim contenteditable>
/**
* Add a user to a group.
*
* If the user is anonymous or already a member, nothing changes.
*
* @param int $uid
*   The uid of the member.
* @param array $values
*   (optional) Extra values to add to the GroupMembership entity, like the
*   'roles' property. You cannot overwrite the group id (gid) or user id
*   (uid) with this method. Leave blank to make the user 'just a member'.
*/
public function addMember($uid, array $values = array()) {
						</code></pre>
					</section>

					<section>
						<h2>getMembers</h2>
						<pre><code class="hlphp" data-trim contenteditable>
/**
* Get all members of a group.
*
* @return array
*   An array of GroupMembership entities.
*/
public function getMembers() {
						</code></pre>
					</section>

					<section>
						<h2>getMembersRecursive</h2>
						<pre><code class="hlphp" data-trim contenteditable>
/**
* Get all members of a group, including subgroup members.
*
* @return array
*   An array of GroupMembership entities.
*/
public function getMembersRecursive() {
						</code></pre>
					</section>

					<section>
						<h2>getEntities</h2>
						<pre><code class="hlphp" data-trim contenteditable>
/**
* Get all child entities.
*
* @param bool $flat
*   (optional) Whether or not to flatten the result array.
* @param bool $reset
*   (optional) Whether to reset the internal cache.
*
* @return array
*   An array of child entities, keyed by their type, bundle and entity id.
*   When $flat is set to TRUE, the return value is one big array of
*   entities, which are keyed numerically and not by their entity id!
*/
public function getEntities($flat = FALSE, $reset = FALSE) {
						</code></pre>
					</section>

					<section>
						<h2>getEntitiesOfType</h2>
						<pre><code class="hlphp" data-trim contenteditable>
/**
* Get all child entities of a certain type.
*
* @param string $entity_type
*   The type of child entities.
* @param string $bundle
*   (optional) The bundle of the entity type.
*
* @return array
*   An array of child entities of a certain type and optionally bundle,
*   keyed by their entity id.
*/
public function getEntitiesOfType($entity_type, $bundle = NULL) {
						</code></pre>
					</section>
				</section>

				<section>
					<section>
						<h2>Integration</h2>
						<p class="fragment">Views</p>
						<p class="fragment">Panels</p>
						<p class="fragment">Features</p>
						<p class="fragment">Rules</p>
						<p class="fragment">Anything else an entity integrates with</p>
					</section>
					<section>
						<h2>Contrib Integration</h2>
						<p>If OG can integrate with it then so can Group</p>
					</section>
				</section>

				<section>
					<p><img src="images/drupal8.png"></p>
					<p>D8 alpha just released</p>
				</section>

				<section>
					<h1>The End</h1>
					<p>https://www.drupal.org/project/group</p>
				</section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
